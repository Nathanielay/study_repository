# H5 英语单词学习 - PRD

## 1. 项目概述
构建一个移动端优先的 H5 学英语单词产品。产品包含底部两个 Tab：首页、我的。用户可以浏览单词书、使用邮箱密码登录/注册、继续最近学习，并通过简洁的卡片式学习流程完成背单词。点击单词进入详情页查看更丰富的信息。

## 2. 目标与非目标
目标：
- 提供简单的学习流程，自动从最近学习单词的下一个开始。
- 支持邮箱密码登录与注册（独立页面）。
- 登录用户展示最近学习模块。
- 单词卡片极简、易浏览。

非目标：
- 暂不做间隔重复算法。
- 暂不要求音频播放（可后续扩展）。
- 暂不包含社交分享功能。

## 3. 目标用户
- 备考类英语学习者（如 CET4）。
- 偏好移动端快速练习的用户。

## 4. 核心需求

### 4.1 底部 Tab
- 底部固定两个 Tab：首页、我的。
- Tab 在主页面始终可见。
- 首页底部中间展示网站核准号：浙ICP备2022034225号-1，链接至 https://beian.miit.gov.cn，文字小号。

### 4.2 首页（已登录）
- 已登录用户：
  - 展示「最近学习」模块，显示最近学习的单词书。
  - 如果无最近学习数据，则不展示该模块。
  - 点击「最近学习」进入学习，自动从上次学习的下一个单词开始。
  - 「最近学习」下方展示全部单词书。

### 4.3 首页（未登录）
- 未登录用户：
  - 仅展示全部单词书。
  - 点击任意单词书跳转到登录页面。
  - 登录/注册为独立页面：
    - `app/login/page.tsx`
    - `app/register/page.tsx`

### 4.4 我的页面
- 展示用户邮箱。
- 提供退出登录按钮。
- 展示学习进度（如：当前书、已学数量）。
- 未登录时显示登录/注册入口，跳转至登录/注册页面。

### 4.5 学习流程
- 进入方式：
  - 从「最近学习」进入：从上次单词的下一个开始。
  - 从单词书进入：如无历史，默认从第一个开始。
- 单词卡片极简：
  - 只展示一个示例单词。
  - 有「下一个」按钮切换单词。
  - 点击单词进入详情页。

### 4.6 单词详情页
- 展示该单词的更多详细信息。
- 使用完整 JSON 结构中的更多字段。

## 5. 数据要求

数据来源：单词书与单词数据由后台系统上传并入库。

### 5.1 单词 JSON（示例）
示例数据包含：
- `bookId`
- `content.word.wordId`
- `content.word.content`（详情）
- `headWord`
- `wordRank`

### 5.2 单词卡片字段建议
单词卡片尽量简洁：
- 单词：`content.word.wordHead` 或 `headWord`
- 音标（可选）：`content.word.content.ukphone` 或 `usphone`
- 一个简短释义：`content.word.content.trans` 的第一条：
  - `tranCn`（中文释义）
  - `pos`（词性）

卡片示例内容：
- "finance"
- "n. 财政"

### 5.3 单词详情字段建议
- 单词：`content.word.wordHead`
- 音标：`ukphone`, `usphone`
- 释义：`trans[]` 列表包含 `pos`, `tranCn`, `tranOther`
- 例句：`sentence.sentences[]` 包含 `sContent`, `sCn`
- 同义词：`syno.synos[]` 包含 `pos`, `tran`, `hwds[]`
- 短语：`phrase.phrases[]` 包含 `pContent`, `pCn`
- 相关词：`relWord.rels[]`
- 图片：`picture`（若存在）

## 6. 用户流程

1) 打开首页
- 已登录：展示最近学习（如有）与全部单词书。
- 未登录：仅展示全部单词书。

2) 点击单词书
- 已登录：进入学习流程（从起始或上次进度）。
- 未登录：跳转到登录页面。

3) 登录/注册
- 使用邮箱与密码。
- 登录成功跳转到我的页面。
- 注册成功跳转到登录页面。

4) 学习单词
- 卡片 + 下一个按钮切换单词。
- 点击单词进入详情页。

5) 我的
- 展示邮箱、进度、退出登录。

## 7. 页面功能需求

### 7.1 首页
- Tab 栏首页高亮。
- 最近学习模块（条件显示）。
- 单词书列表。
- 点击单词书：
  - 未登录：跳转到登录页面。
  - 已登录：进入学习，使用正确起始位置。

### 7.2 登录/注册页面
- 两个页面：登录 / 注册。
- 邮箱与密码输入。
- 主操作按钮。
- 登录失败显示错误提示。
- 登录成功跳转到我的页面。
- 注册成功跳转到登录页面。

### 7.3 我的
- 已登录显示邮箱。
- 展示学习进度概览。
- 退出登录按钮。
- 未登录显示登录/注册入口，跳转至登录/注册页面。

### 7.4 学习页
- 单词卡片（极简字段）。
- 下一个按钮。
- 进度提示（可选）。
- 点击单词进入详情。

### 7.5 单词详情
- 详细释义与信息展示。
- 支持返回学习页。

## 8. 数据与状态
- 登录状态：已登录 / 未登录。
- 最近学习：最后的 bookId 与 wordId 或索引。
- 单词书列表：所有书与单词数。
- 每本书学习进度：当前索引。

## 9. 边界场景
- 无最近学习：隐藏模块。
- 无学习进度：从第一单词开始。
- 需要登录的路径：记录目标书，登录后继续。
- 单词为空：展示空状态。

## 10. 线框图（ASCII）

### 10.1 首页 - 已登录（有最近学习）
```
------------------------------------------------
|                 HOME                          |
|                                                |
| [Recent Learning]                              |
|  Book: CET4luan_1     Continue >               |
|                                                |
| [All Word Books]                               |
|  - CET4luan_1   (xxx words)                    |
|  - CET4luan_2   (xxx words)                    |
|  - ...                                           |
|                                                |
|------------------ TAB BAR --------------------|
|  Home (active)              Me                 |
------------------------------------------------
```

### 10.2 首页 - 未登录
```
------------------------------------------------
|                 HOME                          |
|                                                |
| [All Word Books]                               |
|  - CET4luan_1   (xxx words)                    |
|  - CET4luan_2   (xxx words)                    |
|                                                |
| Tap a book -> Login page                        |
|                                                |
|------------------ TAB BAR --------------------|
|  Home (active)              Me                 |
------------------------------------------------
```

### 10.3 我的 - 已登录
```
------------------------------------------------
|                   ME                           |
|                                                |
| Email: user@acme.com                           |
|                                                |
| Progress                                      |
|  - Current book: CET4luan_1                    |
|  - Learned: 120 / 800                          |
|                                                |
| [Sign out]                                     |
|                                                |
|------------------ TAB BAR --------------------|
|  Home                     Me (active)          |
------------------------------------------------
```

### 10.4 我的 - 未登录
```
------------------------------------------------
|                   ME                           |
|                                                |
| Please log in to continue                      |
| [Login] [Register]                             |
|                                                |
|------------------ TAB BAR --------------------|
|  Home                     Me (active)          |
------------------------------------------------
```

### 10.5 学习卡片
```
------------------------------------------------
|               LEARNING                        |
|                                                |
|  finance                                       |
|  n. 财政                                       |
|                                                |
|  [Next]                                        |
|                                                |
| Tap word for details                           |
------------------------------------------------
```

### 10.6 单词详情
```
------------------------------------------------
|               WORD DETAIL                     |
|                                                |
| finance                                        |
| UK: faɪ'nans  US: 'faɪnæns                      |
|                                                |
| Meanings                                       |
| - n. 财政 ...                                  |
| - v. 资助 ...                                  |
|                                                |
| Examples                                       |
| - ...                                          |
|                                                |
| Phrases / Synonyms / Related Words             |
|                                                |
------------------------------------------------
```

## 11. 已确认事项
- 单词书数据来源：后台系统上传。
- 学习进度存储：服务端存储。

## 12. 部署与运维约束
- 生产环境以 Node 服务运行（非纯静态站点）。
- 运行依赖 MySQL 连接可用。
- 建议使用 Ubuntu + systemd + Nginx 进行部署与守护。
- 国内环境对外提供网站服务通常需要ICP备案。
